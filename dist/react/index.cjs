"use strict";var z=Object.create;var R=Object.defineProperty;var P=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var B=(e,o,l,i)=>{if(o&&typeof o=="object"||typeof o=="function")for(let a of A(o))!w.call(e,a)&&a!==l&&R(e,a,{get:()=>o[a],enumerable:!(i=P(o,a))||i.enumerable});return e};var b=(e,o,l)=>(l=e!=null?z(h(e)):{},B(o||!e||!e.__esModule?R(l,"default",{value:e,enumerable:!0}):l,e));Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const F=require("react/jsx-runtime"),s=require("react"),Z=s.forwardRef(function(o,l){const{className:i,style:a,onSlide:c,onZoom:d,onFullscreenChange:y,onReady:p,...t}=o,m=s.useRef(null),n=s.useRef(null),f=s.useRef(null);return s.useImperativeHandle(l,()=>({getElements:()=>{if(!n.current)throw new Error("CIBeforeAfter: instance not yet initialized");return n.current.getElements()},setPosition:r=>{var u;return(u=n.current)==null?void 0:u.setPosition(r)},getPosition:()=>{var r;return((r=n.current)==null?void 0:r.getPosition())??50},setZoom:r=>{var u;return(u=n.current)==null?void 0:u.setZoom(r)},getZoom:()=>{var r;return((r=n.current)==null?void 0:r.getZoom())??1},resetZoom:()=>{var r;return(r=n.current)==null?void 0:r.resetZoom()},enterFullscreen:()=>{var r;return(r=n.current)==null?void 0:r.enterFullscreen()},exitFullscreen:()=>{var r;return(r=n.current)==null?void 0:r.exitFullscreen()},isFullscreen:()=>{var r;return((r=n.current)==null?void 0:r.isFullscreen())??!1},update:r=>{var u;return(u=n.current)==null?void 0:u.update(r)},destroy:()=>{var r;return(r=n.current)==null?void 0:r.destroy()}})),s.useEffect(()=>{if(!m.current)return;let r=!1,u=null;return import("./js-cloudimage-before-after").then(({CIBeforeAfterCore:C})=>{if(r||!m.current)return;const S={...t,onSlide:c,onZoom:d,onFullscreenChange:y,onReady:p};u=new C(m.current,S),n.current=u,f.current&&(u.update(f.current),f.current=null)},()=>{}),()=>{r=!0,u==null||u.destroy(),n.current=null}},[]),s.useEffect(()=>{const r={...t,onSlide:c,onZoom:d,onFullscreenChange:y,onReady:p};if(!n.current){f.current=r;return}n.current.update(r)},[t.beforeSrc,t.afterSrc,t.beforeAlt,t.afterAlt,t.mode,t.orientation,t.initialPosition,t.zoom,t.zoomMax,t.zoomMin,t.theme,t.handleStyle,t.labels,t.labelPosition,t.fullscreenButton,t.lazyLoad,t.zoomControls,t.zoomControlsPosition,t.scrollHint,t.keyboardStep,t.keyboardLargeStep,t.animate,t.animateOnce,t.cloudimage,c,d,y,p]),F.jsx("div",{ref:m,className:i,style:a})});function E(e){const o=s.useRef(null),l=s.useRef(null),i=s.useRef(null);return s.useEffect(()=>{if(!o.current)return;let a=!1,c=null;return import("./js-cloudimage-before-after").then(({CIBeforeAfterCore:d})=>{a||!o.current||(c=new d(o.current,e),l.current=c,i.current&&(c.update(i.current),i.current=null))},()=>{}),()=>{a=!0,c==null||c.destroy(),l.current=null}},[]),s.useEffect(()=>{if(!l.current){i.current=e;return}l.current.update(e)},[e.beforeSrc,e.afterSrc,e.beforeAlt,e.afterAlt,e.mode,e.orientation,e.initialPosition,e.zoom,e.zoomMax,e.zoomMin,e.theme,e.handleStyle,e.labels,e.labelPosition,e.fullscreenButton,e.lazyLoad,e.zoomControls,e.zoomControlsPosition,e.scrollHint,e.keyboardStep,e.keyboardLargeStep,e.animate,e.animateOnce,e.cloudimage,e.onSlide,e.onZoom,e.onFullscreenChange,e.onReady]),{containerRef:o,instance:l}}exports.CIBeforeAfterViewer=Z;exports.useCIBeforeAfter=E;
//# sourceMappingURL=index.cjs.map
